import{_ as o}from"./dialog.95f029d0.js";import{n}from"./vueConfig.8449a054.js";import{A as r,a as d,b as v,c as u,T as _,d as p,L as m,N as f}from"./Login.f2711059.js";import{i as l}from"./vscodeInject.1ca292eb.js";import{s as c}from"./notify.6ccdfc15.js";const b={methods:{toStore(){}}};var g=function(){var t=this,s=t._self._c;return s("div",{staticClass:"div-block-price"},[s("div",{staticClass:"plan-basic"},[t._v("Basic")]),s("div",{staticClass:"div-block-111"},[s("div",{staticClass:"text-block-26-copy free"},[t._v(t._s(t.$t("plan.free"))),s("span",{staticClass:"text-span-43"})]),s("div",{staticClass:"payment-terms"},[s("strong",{staticClass:"bold-text-37"},[t._v(t._s(t.$t("plan.basicNotice")))])])]),s("div",{staticClass:"div-block-87-copy"},[s("a",{staticClass:"button-plan-basic w-button",on:{click:t.toStore}},[s("strong",{staticClass:"bold-text-39"},[t._v(t._s(t.$t("plan.installed")))])])]),s("div",{staticClass:"text-block-44-copy"},[t._v(t._s(t.$t("plan.basicDesc")))]),s("div",{staticClass:"div-block-plan-features"},[s("div",{staticClass:"div-block-182 w-clearfix"},[s("img",{staticClass:"image-28-copy",attrs:{src:"icon/checkmark-basic.svg",alt:""}}),t._m(0)]),s("div",{staticClass:"div-block-182 w-clearfix"},[s("img",{staticClass:"image-28-copy",attrs:{src:"icon/checkmark-basic.svg",alt:""}}),s("div",{staticClass:"text-block-12"},[s("span",{staticClass:"text-span-44"},[s("strong",{staticClass:"bold-text-38"},[t._v(t._s(t.$t("plan.freeLimitConnection")))])])])]),s("div",{staticClass:"div-block-182 w-clearfix"},[s("img",{staticClass:"image-28-copy",attrs:{src:"icon/checkmark-basic.svg",alt:""}}),s("div",{staticClass:"text-block-12"},[s("span",{staticClass:"text-span-44"},[s("strong",{staticClass:"bold-text-38"},[t._v(t._s(t.$t("plan.basicSQLCompletion")))])])])])])])},C=[function(){var i=this,t=i._self._c;return t("div",{staticClass:"text-block-12"},[t("span",{staticClass:"text-span-44"},[t("strong",{staticClass:"bold-text-38"},[i._v("MySQL, PostgreSQL, Redis, SSH, and More")])])])}],h=n(b,g,C,!1,null,"2b347d3a",null,null);const x=h.exports;const y={props:["isPay"],computed:{planText(){return this.isPay?this.$t("plan.buyed"):this.$t("plan.buyNow")}},methods:{buyNow(){this.$emit("buy")}}};var k=function(){var t=this,s=t._self._c;return s("div",{staticClass:"div-block-price"},[s("div",{staticClass:"plan-premium"},[t._v("Premium")]),s("div",{staticClass:"div-block-111"},[t._m(0),s("div",{staticClass:"payment-monthly"},[t._v(t._s(t.$t("plan.perYear")))]),s("div",{staticClass:"payment-montly-price"},[t._v("\u4E2D\u56FD\u533A\u4E3A68\u5143/\u5E74")])]),s("a",{staticClass:"button-plan-premium w-button",on:{click:t.buyNow}},[s("strong",{staticClass:"bold-text-39"},[t._v(t._s(t.planText))])]),s("div",{staticClass:"text-block-44-copy"},[t._v(t._s(t.$t("plan.premiumDesc")))]),s("div",{staticClass:"div-block-plan-features"},[s("div",{staticClass:"div-block-182 w-clearfix"},[s("img",{staticClass:"image-28-copy",attrs:{src:"icon/checkmark-premium.svg",alt:""}}),s("div",{staticClass:"text-block-12"},[s("span",{staticClass:"text-span-44"},[s("strong",{staticClass:"bold-text-38"},[t._v(t._s(t.$t("plan.allFeature")))])])])]),s("div",{staticClass:"div-block-182 w-clearfix"},[s("img",{staticClass:"image-28-copy",attrs:{src:"icon/checkmark-premium.svg",alt:""}}),s("div",{staticClass:"text-block-12"},[s("span",{staticClass:"text-span-44"},[s("strong",{staticClass:"bold-text-38"},[t._v(t._s(t.$t("plan.unlimitConnection")))])])])]),s("div",{staticClass:"div-block-182 w-clearfix"},[s("img",{staticClass:"image-28-copy",attrs:{src:"icon/checkmark-premium.svg",alt:""}}),s("div",{staticClass:"text-block-12"},[s("span",{staticClass:"text-span-44"},[s("strong",{staticClass:"bold-text-38"},[t._v(t._s(t.$t("plan.cloudSync")))])])])]),s("div",{staticClass:"div-block-182 w-clearfix"},[s("img",{staticClass:"image-28-copy",attrs:{src:"icon/checkmark-premium.svg",alt:""}}),s("div",{staticClass:"text-block-12"},[s("span",{staticClass:"text-span-44"},[s("strong",{staticClass:"bold-text-38"},[t._v(t._s(t.$t("plan.workLevelConnection")))])])])]),s("div",{staticClass:"div-block-182 w-clearfix"},[s("img",{staticClass:"image-28-copy",attrs:{src:"icon/checkmark-premium.svg",alt:""}}),s("div",{staticClass:"text-block-12"},[s("span",{staticClass:"text-span-44"},[s("strong",{staticClass:"bold-text-38"},[t._v(t._s(t.$t("plan.otherFeature")))])])])]),s("div",{staticClass:"div-block-182 w-clearfix"},[s("img",{staticClass:"image-28-copy",attrs:{src:"icon/checkmark-premium.svg",alt:""}}),s("div",{staticClass:"text-block-12"},[s("span",{staticClass:"text-span-44"},[s("strong",{staticClass:"bold-text-38"},[t._v(t._s(t.$t("plan.intelliSenseSQLCompletion")))])])])])])])},$=[function(){var i=this,t=i._self._c;return t("div",{staticClass:"text-block-26-copy free"},[i._v("$19.28"),t("span",{staticClass:"text-span-43"})])}],w=n(y,k,$,!1,null,null,null,null);const P=w.exports;const L={mixins:[l],components:{AdminBox:r,AdminInput:d,AdminForm:v,AdminButton:u,ThridAccount:_},data(){return{loading:!1,licence:"",email:"",password:""}},mounted(){this.on("email",i=>{this.email=i})},methods:{submit(){this.loading=!0,p.post("/user/login",{email:this.email,password:this.password}).then(i=>{c("Login success!"),this.$emit("login",i)}).finally(()=>{this.loading=!1})}}};var S=function(){var t=this,s=t._self._c;return s("div",{staticStyle:{"word-break":"break-word"}},[s("div",[s("span",{staticStyle:{color:"var(--vscode-charts-red)"}},[t._v(" Online ")]),t._v(" : "+t._s(t.$t("offline.online"))+" "),s("br"),s("vsc-button",{staticStyle:{display:"inline-block",margin:"15px 0"},attrs:{size:"mini",icon:"codicon codicon-account"},on:{click:function(e){return t.$emit("reqLogin")}}},[t._v(" Login ")])],1),s("span",{staticStyle:{display:"inline-block","margin-bottom":"5px",color:"var(--vscode-charts-red)"}},[t._v(" Offline: ")]),s("div",[t._v(" "+t._s(t.$t("offline.detail"))+" ")]),s("div",{staticStyle:{"margin-top":"5px"}},[t._v(" Licence: "),s("vsc-input",{attrs:{type:"textarea",autosize:{minRows:5,maxRows:5}},model:{value:t.licence,callback:function(e){t.licence=e},expression:"licence"}})],1),s("div",{staticStyle:{"margin-top":"10px"}},[s("vsc-button",{attrs:{size:"mini",icon:"codicon-vm"},on:{click:function(e){return t.$emit("getMachineId")}}},[t._v(" "+t._s(t.$t("offline.getMachineId"))+" ")]),s("vsc-button",{attrs:{size:"mini",type:"primary",icon:"codicon-save"},on:{click:function(e){return t.$emit("activate",t.licence)}}},[t._v(" "+t._s(t.$t("offline.activate"))+" ")]),s("vsc-button",{attrs:{type:"secondary",icon:"codicon-discard"},on:{click:function(e){return t.$emit("cancel")}}},[t._v(" "+t._s(t.$t("common.cancel"))),s("span",{staticClass:"codicon codicon-discard",attrs:{slot:"start"},slot:"start"})])],1)])},V=[],T=n(L,S,V,!1,null,"53fd2d9e",null,null);const z=T.exports;function A(i,t=2){const s=new TextEncoder().encode(i),e=new Uint8Array(s.length);for(let a=0;a<s.length;a++)e[a]=s[a]^t;return new TextDecoder().decode(e)}function F(i){return[...`${i}`].reduce((t,s)=>t+parseInt(s),1)}const I={mixins:[l],components:{FreePlan:x,ProPlan:P,Login:m,Offline:z,NavBar:f},data(){return{user:null,accountVisible:!1,offlineVisible:!1}},mounted(){this.focusHolder(),this.on("user",i=>{this.user=i,this.isPay&&(this.accountVisible=!1)}).on("boundLicence",i=>{this.user=i,this.offlineVisible=!1,c("Activation success!")}).init()},methods:{openAbount(){this.$router.push("/document")},openDocument(){this.$router.push("/document/#/start")},githubLogin(){this.emit("githubLogin")},getMachineId(){this.emit("copyMachineId")},activate(i){this.emit("licence",i)},login(i){this.emit("bindUser",i),this.user=i,this.accountVisible=!1},logout(){this.emit("bindUser",null),this.user=null,c("Log out success!")},focusHolder(){window.onfocus=()=>{this.emit("getUser")}},triggerBuy(){if(this.user){const i=new Date().getTime(),t=F(i);this.emit("open",`${this.getSite()}/#/plan?token=${btoa(A(this.user.token,t))}&t=${i}&ir=${t}`)}else this.accountVisible=!0}},computed:{isPay(){return this.user&&this.user.expireTime>new Date().getTime()}}};var M=function(){var t=this,s=t._self._c;return s("div",[s("NavBar",{attrs:{user:t.user},on:{openLogin:function(e){t.accountVisible=!0},logout:t.logout}}),s("div",{staticClass:"section-plans wf-section"},[s("div",{staticClass:"notice"},[s("div",{domProps:{innerHTML:t._s(t.$t("pay.notice"))}}),s("div",{staticClass:"line"}),s("div",{domProps:{innerHTML:t._s(t.$t("pay.notice2"))}}),s("div",{staticClass:"line"}),s("vsc-button",{staticStyle:{position:"relative",top:"-1px"},attrs:{size:"mini",icon:"el-icon-discover"},on:{click:t.openAbount}},[t._v(" "+t._s(t.$t("plan.about"))+" ")]),t.isPay?s("vsc-button",{staticStyle:{position:"relative",top:"-1px"},attrs:{size:"mini",icon:"el-icon-document"},on:{click:t.openDocument}},[t._v(" "+t._s(t.$t("plan.document"))+" ")]):t._e(),t.user?t._e():s("vsc-button",{attrs:{size:"mini",icon:"codicon-github-inverted"},on:{click:t.githubLogin}},[t._v(" "+t._s(t.$t("plan.freeTier"))+" ")]),t.isPay?t._e():s("vsc-button",{attrs:{size:"mini",icon:"codicon-package"},on:{click:t.triggerBuy}},[t._v(" "+t._s(t.$t("plan.buyNow"))+" ")]),s("vsc-button",{attrs:{size:"mini",icon:" codicon-github-action"},on:{click:function(e){t.offlineVisible=!0}}},[t._v(" "+t._s(t.$t("plan.activation"))+" ")])],1)]),s("div",{staticClass:"section-plans wf-section"},[s("div",{staticClass:"div-block-74---a"},[s("div",{staticClass:"row-plans w-row"},[s("div",{staticClass:"column-price w-col w-col-4"},[s("FreePlan")],1),s("div",{staticClass:"column-price-middle w-col w-col-4"},[s("ProPlan",{attrs:{isPay:t.isPay},on:{buy:t.triggerBuy}})],1)])])]),s(o,{attrs:{visible:t.offlineVisible,width:"600px","custom-class":"activate-dialog","modal-append-to-body":!1,"close-on-click-modal":!1},on:{"update:visible":function(e){t.offlineVisible=e},close:function(e){t.offlineVisible=!1}}},[s("Offline",{on:{cancel:function(e){t.offlineVisible=!1},getMachineId:t.getMachineId,reqLogin:function(e){t.offlineVisible=!1,t.accountVisible=!0},activate:t.activate}})],1),s(o,{attrs:{"custom-class":"accountDialog",visible:t.accountVisible,"close-on-click-modal":!1,"modal-append-to-body":!1,width:"420px",top:"3vh"},on:{close:function(e){t.accountVisible=!1},"update:visible":function(e){t.accountVisible=e}}},[s("Login",{on:{login:t.login}})],1)],1)},D=[],B=n(I,M,D,!1,null,"fb429951",null,null);const U=B.exports;export{U as default};
