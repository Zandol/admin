var A={exports:{}};(function(o){function p(n,r){for(var i=n.toString();i.length<r;)i="0"+i;return i}function c(n){return p(n,2)}function g(n){var r=Math.abs(n),i=String(Math.floor(r/60)),f=String(r%60);return i.length===1&&(i="0"+i),f.length===1&&(f="0"+f),n<0?"+"+i+f:"-"+i+f}function u(n,r){typeof n!="string"&&(r=n,n=o.exports.ISO8601_FORMAT),r||(r=o.exports.now());var i=c(r.getDate()),f=c(r.getMonth()+1),x=c(r.getFullYear()),v=c(x.substring(2,4)),S=n.indexOf("yyyy")>-1?x:v,T=c(r.getHours()),l=c(r.getMinutes()),M=c(r.getSeconds()),t=p(r.getMilliseconds(),3),e=g(r.getTimezoneOffset()),y=n.replace(/dd/g,i).replace(/MM/g,f).replace(/y{1,4}/g,S).replace(/hh/g,T).replace(/mm/g,l).replace(/ss/g,M).replace(/SSS/g,t).replace(/O/g,e);return y}function s(n,r,i,f){n["set"+(f?"":"UTC")+r](i)}function a(n,r,i){var f=n.indexOf("O")<0,x=[{pattern:/y{1,4}/,regexp:"\\d{1,4}",fn:function(t,e){s(t,"FullYear",e,f)}},{pattern:/MM/,regexp:"\\d{1,2}",fn:function(t,e){s(t,"Month",e-1,f)}},{pattern:/dd/,regexp:"\\d{1,2}",fn:function(t,e){s(t,"Date",e,f)}},{pattern:/hh/,regexp:"\\d{1,2}",fn:function(t,e){s(t,"Hours",e,f)}},{pattern:/mm/,regexp:"\\d\\d",fn:function(t,e){s(t,"Minutes",e,f)}},{pattern:/ss/,regexp:"\\d\\d",fn:function(t,e){s(t,"Seconds",e,f)}},{pattern:/SSS/,regexp:"\\d\\d\\d",fn:function(t,e){s(t,"Milliseconds",e,f)}},{pattern:/O/,regexp:"[+-]\\d{3,4}|Z",fn:function(t,e){e==="Z"&&(e=0);var y=Math.abs(e),O=(e>0?-1:1)*(y%100+Math.floor(y/100)*60);t.setUTCMinutes(t.getUTCMinutes()+O)}}],v=x.reduce(function(t,e){return e.pattern.test(t.regexp)?(e.index=t.regexp.match(e.pattern).index,t.regexp=t.regexp.replace(e.pattern,"("+e.regexp+")")):e.index=-1,t},{regexp:n,index:[]}),S=x.filter(function(t){return t.index>-1});S.sort(function(t,e){return t.index-e.index});var T=new RegExp(v.regexp),l=T.exec(r);if(l){var M=i||o.exports.now();return S.forEach(function(t,e){t.fn(M,l[e+1])}),M}throw new Error("String '"+r+"' could not be parsed as '"+n+"'")}function h(n,r,i){if(!n)throw new Error("pattern must be supplied");return a(n,r,i)}function d(){return new Date}o.exports=u,o.exports.asString=u,o.exports.parse=h,o.exports.now=d,o.exports.ISO8601_FORMAT="yyyy-MM-ddThh:mm:ss.SSS",o.exports.ISO8601_WITH_TZ_OFFSET_FORMAT="yyyy-MM-ddThh:mm:ss.SSSO",o.exports.DATETIME_FORMAT="dd MM yyyy hh:mm:ss.SSS",o.exports.ABSOLUTETIME_FORMAT="hh:mm:ss.SSS"})(A);function F(o){return o==null?o=0:typeof o!="number"&&(o=parseInt(o),isNaN(o)&&(o=0)),o}class E{static arrayToObj(p,c,g){return Array.isArray(p)?p.reduce((u,s)=>{const a=c instanceof Function?c(s):s[c];return u[a]=g?s[g]:s,u},{}):p}static clone(p){return p.map(c=>({...c}))}static sum(p,c){return p.reduce((u,s)=>u+g(s,c),0);function g(u,s){let a=u;if(a&&s)for(const h of s.split("."))a=a==null?void 0:a[h];return F(a)}}static distinct(p,c){const g={};return p.filter(u=>{const s=c?u[c]:u;return c&&s==null?!0:g[s]?!1:(g[s]=g,!0)})}static grouping(p,c){const{keyGenerator:g,groupGenerator:u,keepSingle:s}=c,a=[],h={};for(const d of p){const n=g(d);if(n){const r=h[n];if(r)r.addChild(d);else{const i=u(n,d);i.addChild(d),a.push(i),h[n]=i}}else a.push(d)}if(s)return a;for(let d=0;d<a.length;d++){const r=a[d].childs;!r||r.length==1&&a.splice(d,1,r[0])}return a}}export{E as A};
