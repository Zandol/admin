import{_ as i}from"./dialog.95f029d0.js";import{N as n,L as l}from"./Login.f2711059.js";import{i as a}from"./vscodeInject.1ca292eb.js";import{s as c}from"./notify.6ccdfc15.js";import{n as r}from"./vueConfig.8449a054.js";const u={mixins:[a],components:{NavBar:n,Login:l},data(){return{user:null,dialogVisible:!0,accountVisible:!1,documentUrl:null,hash:""}},created(){var t;this.hash=(t=this.$route.hash)!=null?t:"",this.hash=`?theme=${document.body.getAttribute("data-vscode-theme-kind")=="vscode-light"?"light":"dark"}`},mounted(){this.focusHolder(),this.on("user",t=>{this.user=t,this.accountVisible=!1}).on("resourceHost",({host:t,language:s})=>{console.log(this.hash),this.documentUrl=s=="zh-cn"?`${t}/docs/#/zh/${this.hash}`:`${t}/docs/${this.hash}`}).init()},methods:{loadDocument(){},login(t){this.emit("bindUser",t),this.user=t,this.accountVisible=!1},logout(){this.emit("bindUser",null),this.user=null,c("Log out success!")},focusHolder(){window.onfocus=()=>{this.emit("getUser")}}}};var h=function(){var s=this,e=s._self._c;return e("div",{staticStyle:{height:"100vh"}},[e("NavBar",{attrs:{user:s.user,hidePlan:!0},on:{openLogin:function(o){s.accountVisible=!0},logout:s.logout}}),e("div",{staticClass:"document-container"},[e("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:s.documentUrl,title:"description"},on:{load:s.loadDocument}})]),e(i,{attrs:{closeOnClickModal:!1,"custom-class":"accountDialog",visible:s.accountVisible,"modal-append-to-body":!1,width:"420px",top:"3vh"},on:{"update:visible":function(o){s.accountVisible=o}}},[e("Login",{on:{login:s.login}})],1)],1)},d=[],m=r(u,h,d,!1,null,null,null,null);const b=m.exports;export{b as default};
